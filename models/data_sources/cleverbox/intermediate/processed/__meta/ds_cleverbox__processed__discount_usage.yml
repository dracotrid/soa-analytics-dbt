version: 2

models:
  - name: ds_cleverbox__processed__discount_usage
    description: "CleverBox Processed Discount Usage"
    config:
      alias: processed__discount_usage
      meta:
        tf_config:
          filter: yuid IS NOT NULL
    columns:
      - name: ruid
        data_type: STRING
        description: Record identifier
      - name: yuid
        data_type: STRING
        description: Record identifier
      - name: date
        data_type: DATE
        description: Date of discount
      - name: discount_name
        data_type: STRING
        description: Discount name
      - name: value
        data_type: NUMERIC.COST
        description: Cost of service
      - name: discount_percent
        data_type: NUMERIC.PRICE
        description: Discount percent
      - name: discount_value
        data_type: NUMERIC.COST
        description: Discount value
      - name: service
        data_type: STRING
        description: Service name
      - name: client_code
        data_type: STRING
        description: Client code
        meta:
          tf_config:
            macro: cmf__normalise__pad_left_signs
            params: [client_code, 6, '0']
      - name: client_name
        data_type: STRING
        description: Client name
      - name: specialist
        data_type: STRING
        description: Employee name
